import{$b as v,Aa as g,Db as a,Eb as f,Jb as c,Pb as h,Qb as _,Sb as C,Tb as x,Uc as R,Vb as y,Vc as F,Zb as I,dc as T,ec as p,hd as S,ic as b,ka as l,lc as w,rb as m,ua as u,xc as E,za as d}from"./chunk-66KA57FF.js";function O(i,n){i&1&&(C(0),p(1,"\u2B50"),x())}function V(i,n){i&1&&p(0,"\xB7")}function B(i,n){if(i&1){let r=y();h(0,"span",1),I("click",function(){let e=d(r),s=e.index,k=e.$implicit,o=v();return o.onTouched(),g(o.rate(s+(k?o.value>s+1?1:0:1)))}),c(1,O,2,0,"ng-container",2)(2,V,1,0,"ng-template",null,3,E),_()}if(i&2){let r=n.$implicit,t=T(3);m(1),a("ngIf",r)("ngIfElse",t)}}var z=(()=>{let n=class n{constructor(){this.stars=Array(5).fill(!1),this.disabled=!1,this.onChange=t=>{},this.onTouched=()=>{}}get opacity(){return this.disabled?.25:1}get value(){return this.stars.reduce((t,e)=>t+(e?1:0),0)}rate(t){this.disabled||(this.stars=this.stars.map((e,s)=>t>s),this.onTouched(),this.onChange(this.value))}writeValue(t){this.stars=this.stars.map((e,s)=>t>s)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u({type:n,selectors:[["rating-input"]],hostVars:2,hostBindings:function(e,s){e&2&&f("opacity",s.opacity)},inputs:{disabled:"disabled"},standalone:!0,features:[b([{provide:S,useExisting:l(()=>n),multi:!0}]),w],decls:1,vars:1,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf","ngIfElse"],["noStar",""]],template:function(e,s){e&1&&c(0,B,4,2,"span",0),e&2&&a("ngForOf",s.stars)},dependencies:[R,F],styles:["span[_ngcontent-%COMP%]{display:inline-block;width:1.2em;line-height:25px;text-align:center;cursor:pointer;font-size:2em;-webkit-user-select:none;user-select:none}"]});let i=n;return i})();export{z as RatingInputComponent};
